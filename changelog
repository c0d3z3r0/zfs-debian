zfs-linux (0.6.0.22.rc5-0ubuntu1) unstable; urgency=low

  [ Prasad Joshi ]
  * MMAP Optimization

  [ Brian Behlendorf ]
  * Remove unused MMAP functions
  * Add ZFS specific mmap() checks
  * Avoid 'rpm -q' bug for 'make pkg'
  * Linux compat 2.6.39: security_inode_init_security()
  * Linux compat 2.6.39: mount_nodev()
  * Fix implicit declaration of 'mkdirp'
  * Always allow non-user xattrs
  * Prep zfs-0.6.0-rc5 tag

  [ Rohan Puri ]
  * Support mandatory locks (nbmand)

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 03 Jul 2011 13:06:48 -0500

zfs-linux (0.6.0.21-0ubuntu1) unstable; urgency=low

  [ Prasad Joshi ]
  * Tear down and flush the mmap region
  * Use truncate_setsize in zfs_setattr

  [ Brian Behlendorf ]
  * Ensure all block devices are available

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 01 Jul 2011 11:41:40 -0500

zfs-linux (0.6.0.20-0ubuntu1) unstable; urgency=low

  [ Gunnar Beutner ]
  * Removed erroneous zfs_inode_destroy() calls from zfs_rmnode().
  * Fix unlink/xattr deadlock

  [ Brian Behlendorf ]
  * Linux 3.0 compat, shrinker compatibility

  [ Ned A. Bass ]
  * Multipath device manageability improvements

 -- Darik Horn <dajhorn@vanadac.com>  Sat, 25 Jun 2011 22:14:26 -0500

zfs-linux (0.6.0.19-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Use datadir not datarootdir for dracut
  * Update rpm/deb packages to be FHS compliant
  * Linux 2.6.37 compat, WRITE_FLUSH_FUA

  [ Christian Kohlschütter ]
  * Add "ashift" property to zpool create

  [ Darik Horn ]
  * Fix autoconf variable substitution in udev rules.
  * Autogen refresh.
  * Refresh patches.

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 19 Jun 2011 13:06:43 -0500

zfs-linux (0.6.0.18-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Fix 'zfs send -D' segfault
  * Pass -f option for import
  * Add default stack checking
  * Check for -Wno-unused-but-set-variable gcc support
  * Always check -Wno-unused-but-set-variable gcc support
  * Handle /etc/mtab -> /proc/mounts symlink

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 16 Jun 2011 09:39:30 -0500

zfs-linux (0.6.0.17-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Make tgx_sync_thread zio's async
  * Revert "Fix stack traverse_visitbp()"
  * Fix stack ddt_zap_lookup()
  * Fix stack ddt_class_contains()
  * Fix zpios-sanity.sh return code
  * Always unload zpios.ko on exit
  * Delay before destroying loopback devices
  * Sanatize zpios-sanity.sh environment

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 05 Jun 2011 20:32:51 -0500

zfs-linux (0.6.0.16-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Pass caller's credential in zfsdev_ioctl()
  * Default to internal 'zfs userspace' implementation
  * Use vmem_alloc() for zfs_ioc_userspace_many()
  * Fix 4K sector support

 -- Darik Horn <dajhorn@vanadac.com>  Sat, 28 May 2011 15:47:15 -0500

zfs-linux (0.6.0.15-0ubuntu1) unstable; urgency=low

  [ Alexey Shvetsov ]
  * Make zfs.gentoo init script more gentoo style.
  * Fix zfs.gentoo init script logic
  * Remove root 'ls' after mount workaround
  * Fix distribution detection for gentoo

  [ Brian Behlendorf ]
  * Update synchronous open zfs_close() comment
  * Fix 'negative objects to delete' warning

 -- Darik Horn <dajhorn@vanadac.com>  Mon, 23 May 2011 09:18:38 -0500

zfs-linux (0.6.0.14-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Use vmem_alloc() for zfs_ioc_pool_get_history()
  * Fix awk usage
  * Handle NULL in nfsd .fsync() hook
  * Disable direct reclaim for z_wr_* threads

  [ Ned A. Bass ]
  * Don't store rdev in SA for FIFOs and sockets

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 11 May 2011 20:28:21 -0500

zfs-linux (0.6.0.13.rc4-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Add missing ZFS tunables
  * Allow mounting of read-only snapshots

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 05 May 2011 20:48:14 -0500

zfs-linux (0.6.0.12.rc4-0ubuntu2) unstable; urgency=low

  * Add the debhelper token to zfs-initramfs.preinst
  * Add the debehelper token to zfsutils.preinst
  * Add extended package descriptions.
  * Disable zpool-layout distribution.
  * Add -e switch to the zfsutils.preinst whackbang.
  * Add docs file for each package.
  * Package libexec scripts as examples.
  * Add -e switch to the zfs-initramfs.preinst whackbang.
  * Flag autogen.sh as executable.
  * Add -e switch to the zfs-dkms.postinst whackbang.
  * Disable scripts distribution.
  * Add whackbang to the ltmain.sh script.
  * Remove unused zfs-dkms.preinst script.
  * Add -e switch to the zfs-dkms.prerm whackbang.
  * Remove unused zfs-dkms.postrm script.
  * Specify a distro section for each package.
  * Add snapshot-mount.patch

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 05 May 2011 19:51:35 -0500

zfs-linux (0.6.0.12.rc4-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Add Gentoo/Lunar/Redhat Init Scripts
  * Prep zfs-0.6.0-rc4 tag

  [ Darik Horn ]
  * Use 0.6.0.12.rc4 as the unofficial version.
  * Quilt refresh.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 05 May 2011 10:18:40 -0500

zfs-linux (0.6.0.11-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Suppress 'vdev_metaslab_init' memory warning
  * Fix 'zfs set volsize=N pool/dataset'
  * Fully update inode when created
  * Correct MAXUID

  [ Gunnar Beutner ]
  * Implemented NFS export_operations.

  [ Alejandro R. Sedeño ]
  * Add zpl_export.c to the list of targets.

 -- Darik Horn <dajhorn@vanadac.com>  Mon, 02 May 2011 19:07:36 -0500

zfs-linux (0.6.0.10-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Fix zvol deadlock
  * Conserve stack in dsl_scan_visitbp()
  * Conserve stack in dsl_scan_visitbp()
  * Conserve stack in dsl_scan_visit()

  [ Darik Horn ]
  * Use gethostid in the Linux convention.
  * Use 0.6.0.10 as the unofficial version.
  * Use substvars versions in the debian/control.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 27 Apr 2011 11:23:52 -0500

zfs-linux (0.6.0.9-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Update zconfig.sh to use new zvol names
  * Suppress 'zfs receive' memory warning
  * Enforce ARC meta-data limits
  * Fix spurious -EFAULT when setting I/O scheduler
  * Fix 32-bit MAXOFFSET_T definition

  [ Aniruddha Shankar ]
  * Added required runlevel info for init on Debian

  [ Gunnar Beutner ]
  * Fixed a use-after-free bug in zfs_zget().

  [ Darik Horn ]
  * Use 0.6.0.9 as the unofficial version.
  * Remove the gawk packaging dependency.

 -- Darik Horn <dajhorn@vanadac.com>  Sat, 23 Apr 2011 11:21:36 -0500

zfs-linux (0.6.0.8-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Linux 2.6.29 compat, credentials
  * Fix rebuildable RPMs for el6/ch5
  * Autogen refresh for kernel-insert-inode-locked.m4
  * Linux 2.6.39 compat, invalidate_inodes()
  * Fix gcc compiler warning, dsl_pool_create()
  * Fix gcc compiler warning, parse_option()
  * Fix gcc configure warnings
  * Set -Wno-unused-but-set-variable globally
  * Add Gunnar Beutner to AUTHORS for his contributions
  * Add parted and lsscsi dependencies to zfs-test

  [ Richard Laager ]
  * Fix a couple comments
  * Correct man page section numbers for Linux
  * Change /dev/dsk -> /dev in the man pages
  * More and correct an example in zpool.8
  * Use Linux disk names in zpool.8
  * Linux has "partitions", not "slices"
  * Remove a stray tab
  * Improve some quoting consistency
  * Improve the wording about hot spares
  * Normalize the deferred destruction language
  * Update the version in the zpool upgrade example
  * Cleanup various Sun/Solaris-isms
  * Support IEC base-2 prefixes

  [ Ned Bass ]
  * Use consistent indentation in mount-zfs.sh
  * Align closing fi in mount-zfs.sh

  [ Gunnar Beutner ]
  * Added missing initialization for va.va_dentry in zfs_get_xattrdir.
  * Truncate the xattr znode when updating existing attributes.

  [ Darik Horn ]
  * Refresh debian/patches.
  * Use zfs-0.6.0.8 as the unofficial upstream version.
  * Set a version on the spl-dkms dependency.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 20 Apr 2011 08:21:51 -0500

zfs-linux (0.6.0.7-0ubuntu2) unstable; urgency=low

  [ Brian Behlendorf ]
  * Call d_instantiate before unlocking inode
  * Add missing arcstats
  * Add direct+indirect ARC reclaim
  * Fix ASSERTION(!dsl_pool_sync_context(tx->tx_pool))
  * Prep zfs-0.6.0-rc3 tag

  [ Manuel Amador (Rudd-O) ]
  * Added .gitignore for mount.zfs and zvol_id
  * Permit both mountpoint=legacy and mountpoint=/ in initrd
  * Update zfs.fedora init script

  [ Darik Horn ]
  * Upstream zfs-0.6.0-rc3 tag. Use 0.6.0.7 instead.
  * Add a zfs-grub dependency to zfs-initramfs.
  * Add a NEWS entry for the decomposition and rename.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 07 Apr 2011 13:51:23 -0500

zfs-linux (0.6.0.6-0ubuntu2) unstable; urgency=low

  * Partial autogen updates to fix PPA builds.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 07 Apr 2011 10:52:30 -0500

zfs-linux (0.6.0.6-0ubuntu1) unstable; urgency=low

  [ Fajar A. Nugraha ]
  * Fixes to enable zvol symlink creation
  * Spec file compat, %{datadir}

  [ Brian Behlendorf ]
  * Set cmd paths in udev rules using --prefix
  * Fix inflated load average
  * Fix libzpool cv_* build error
  * Update CHAOS 5 Packaging
  * Fix `make distclean` for `./configure --with-config=user

  [ Ned Bass ]
  * Call udevadm trigger more safely

  [ Darik Horn ]
  * Remove `make distclean` kludge.
  * Ignore `zfs unmount -a` errors in the init script.
  * Rename /etc/default/zfsload during upgrades.
  * Disable dracut instead of reverting it.
  * Move udev rules from /etc to /lib.
  * Add ${shlibs:Depends} to each control stanza.
  * Remove volume and swap handling from the init script.

 -- Darik Horn <dajhorn@vanadac.com>  Tue, 05 Apr 2011 22:08:06 -0500

zfs-linux (0.6.0.5-1ubuntu7) unstable; urgency=low

  * Force the dkms.conf file into the zfs-dkms package.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 31 Mar 2011 11:03:56 -0500

zfs-linux (0.6.0.5-1ubuntu6) unstable; urgency=low

  * Link /proc/mounts to /etc/mtab.
  * Add the /etc/default/zfs import to the init script.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 30 Mar 2011 16:12:41 -0500

zfs-linux (0.6.0.5-1ubuntu5) unstable; urgency=low

  * Use /sbin/mount.zfs for the root mount in the initramfs.
  * Handle the GRUB zfs-bootfs parameter in the initramfs.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 30 Mar 2011 12:22:12 -0500

zfs-linux (0.6.0.5-1ubuntu2) unstable; urgency=low

  * Rename the zfs package to zfsutils.
  * Rename the zfs-lib package to libzfs0.
  * Decompose the zfs-lib package.
  * Restrict the package architecture to linux-any.
  * Remove the KQ init script that was imported from zfs-linux/lzfs.
  * Import the zfsutils init script from Debian kFreeBSD.
  * Check zvols for Linux swap areas instead of FreeBSD swap areas.
  * Replace zfs by zfsutils in the debian/control file.
  * Add libzfs-dev to the debian/control file.
  * Change usr/lib/include to usr/include in the libzfs-dev.install file.
  * Add a zfs-lib replacement to each constituent library.

 -- Darik Horn <dajhorn@vanadac.com>  Tue, 29 Mar 2011 09:17:38 -0500

zfs-linux (0.6.0.5-0ubuntu2) unstable; urgency=low

  * Include /sbin/mount.zfs in the zfs package.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 24 Mar 2011 12:37:40 -0500

zfs-linux (0.6.0.5-0ubuntu1) unstable; urgency=low

  [ Brian Behlendorf ]
  * Check for trailing '/' in mount.zfs
  * Don't set I/O Scheduler for Partitions
  * Always allow '-o remount,ro'
  * Strip 'zfsutil,remount' from /etc/mtab
  * Register .sync_fs handler
  * Register .remount_fs handler
  * Add init scripts
  * Fix getcwd() warning
  * Fix 'LDFLAGS=-Wl,--as-needed' build error
  * Use KM_PUSHPAGE instead of KM_SLEEP
  * Fix evict() deadlock
  * Linux compat, umount2(2) flags
  * Linux 2.6.27 compat, blk_queue_stackable()
  * Linux 2.6.28 compat, insert_inode_locked()
  * Linux 2.6.29 compat, credentials
  * Linux 2.6.29 compat, .freeze_fs/.unfreeze_fs

  [ Darik Horn ]
  * Full upstream merge. Use zfs-0.6.0.5 as the unofficial upstream version.
  * Revert the dracut commit in debian/patches.
  * Revert the init script commit in debian/patches.
  * Quilt refresh.
  * Properly strip the bootfs= and rpool= kernel command line parameters.
  * Remove the whack-bang and execute bit from the initramfs boot script.

 -- Darik Horn <dajhorn@vanadac.com>  Tue, 22 Mar 2011 23:07:49 -0500

zfs-linux (0.6.0.4.rc2-0ubuntu6) unstable; urgency=low

  * Trivial typo correction in the debian/copyright file.
  * Remove the init-top/hostname script and force BUSYBOX=y instead.
  * Correct typos in the debian/debuild-ppa.sh helper.
  * Add a debian/source/options file that disable the
    implied --single-debian-patch build option.

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 20 Mar 2011 19:11:12 -0500

zfs-linux (0.6.0.4.rc2-0ubuntu5) unstable; urgency=low

  * Add the debuild-ppa.sh script for Launchpad PPA build convenience.
  * Add fix-getcwd-warning.patch from behlendorf/master.
  * Add fix-gentoo-ldflags.patch from behlendorf/master.
  * Add the pkg-zfs repository to the debian/copyright file.

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 20 Mar 2011 15:27:49 -0500

zfs-linux (0.6.0.4.rc2-0ubuntu4) unstable; urgency=low

  * Add behlendorf/dracut patch for better dismount handling at shutdown.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 16 Mar 2011 09:16:00 -0500

zfs-linux (0.6.0.4.rc2-0ubuntu3) unstable; urgency=low

  * Add patches from behlendorf/master:
    * check-for-trailing-slash-in-mount.patch
    * do-not-set-io-scheduler-for-partitions.patch
  * Add gawk dependency to the zfs-initramfs package.

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 13 Mar 2011 21:32:32 -0500

zfs-linux (0.6.0.4.rc2-0ubuntu2) unstable; urgency=low

  * Initial zfs-initramfs packaging for root filesystem support.

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 11 Mar 2011 15:39:37 -0600

zfs-linux (0.6.0.4.rc2-0ubuntu1) unstable; urgency=low

   * Upstream spl-0.6.0-rc2 release.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 10 Mar 2011 09:35:43 -0600

zfs-linux (0.6.0.3.git-0ubuntu1) unstable; urgency=low

  * Revert the '+' in the upstream version because it is not recognized by DKMS.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 09 Mar 2011 12:24:41 -0600

zfs-linux (0.6.0.3+git-0ubuntu2) unstable; urgency=low

  * Change spl-dkms to a pre-dependency in the control file.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 09 Mar 2011 10:54:07 -0600

zfs-linux (0.6.0.3+git-0ubuntu1) unstable; urgency=low

  * Begin using the +git upstream naming convention.
  * Merge the behlendorf/mount and behlendorf/master branches.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 09 Mar 2011 10:09:24 -0600

zfs-linux (0.6.0.2-0ubuntu1) unstable; urgency=low

  * Merge the behlendorf/master branch for the xvattr changes
    and tag it as 0.6.0.2 upstream.

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 04 Mar 2011 19:24:42 -0600

zfs-linux (0.6.0.1rc.1-0ubuntu6) unstable; urgency=low

  * Check for a Debian host in PRE_BUILD and configure for split headers.
    See https://github.com/behlendorf/spl/issues/closed/#issue/10

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 27 Feb 2011 17:51:17 -0600

zfs-linux (0.6.0.1rc.1-0ubuntu5) unstable; urgency=low

  * Remove the build dependency on linux-headers because it is unnecessary
    for Ubuntu and prevents building on Debian Squeeze and Debian Sid.

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 27 Feb 2011 13:20:03 -0600

zfs-linux (0.6.0.1rc.1-0ubuntu4) unstable; urgency=low

  * Add version numbers to the dkms dependencies.

 -- Darik Horn <dajhorn@vanadac.com>  Sat, 26 Feb 2011 01:13:40 -0600

zfs-linux (0.6.0.1rc.1-0ubuntu3) unstable; urgency=low

  * Add fix-set-block-scheduler-warnings.patch.

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 25 Feb 2011 20:59:26 -0600

zfs-linux (0.6.0.1rc.1-0ubuntu2) unstable; urgency=low

  * Add udev-zvol.patch for udev to create zvol links.
    (Commit: 4c0d8e50b99b4f3b4a9b7bc67ac7fc4e406f5755)

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 25 Feb 2011 15:20:41 -0600

zfs-linux (0.6.0.1rc.1-0ubuntu1) unstable; urgency=low

  * Merge behlendorf/linux-compat for Linux 2.6.38 compatibility.
  * Add /etc/default/zfsload for the init script.
  * Add dist-blkdev_compat.patch so that the new block device
    compatibility header is included by the dist rules.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 24 Feb 2011 10:30:13 -0600

zfs-linux (0.6.0.1rc-1~lucid.4) lucid; urgency=low

  * Force all zfsload returns to 0.
  * Initial master branch for git-buildpackage.
  * Update Vcs-Git and Vcs-Browser fields in the control file.

 -- Darik Horn <dajhorn@vanadac.com>  Tue, 22 Feb 2011 11:23:31 -0600

zfs-linux (0.6.0.1rc-1~lucid.3) lucid; urgency=low

  * Move the zfsload init script from the zfs-dkms package
    to the zfs package.
  * Disable non-zero returns in the zfsload script because
    `zfs umount -a` is unreliable and init errors cause dpkg
    to block package updates and removals.
  * Create zfs.examples for dh_installexamples and change the
    install manifest for etc/zfs/*.example accordingly.
  * Split zfs into zfs-lib to satisfy the dpkg-shlibdeps warnings.

 -- Darik Horn <dajhorn@vanadac.com>  Mon, 21 Feb 2011 11:27:11 -0600

zfs-linux (0.6.0.1rc-1~lucid.2) lucid; urgency=low

  * Reduce the dpkg scripts to #DEBHELPER# because dh_dkms
    is automatically and correctly filling template.
  * Set a versioned debhelper dependency to satisfy the
    lintian warning.

 -- Darik Horn <dajhorn@vanadac.com>  Mon, 21 Feb 2011 10:27:29 -0600

zfs-linux (0.6.0.1rc-1~lucid.1) lucid; urgency=low

  * New upstream zfs-0.6.0-rc1.tar.gz release.
  * Kludge the "rc1" version for the packaging convenience.
  * Move the zfsload script to this package.
  * Supercede the lzfs-dkms package.

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 18 Feb 2011 19:46:36 -0600

zfs-linux (0.5.2-1~lucid.6) lucid; urgency=low

  * Do uupdate on kqzfs_0.5.2 tag.
  * Remove disable-check_stack_overflow patch.
  * Add kernel-bio-failfast.patch for `make distdir`.

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 18 Feb 2011 12:52:07 -0600

zfs-linux (0.5.1-1~lucid.5) lucid; urgency=low

  * Initial DKMS packaging for Debian and Ubuntu.

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 16 Feb 2011 12:26:49 -0600
